"use strict";angular.module("bangularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/start",{templateUrl:"views/startgame.html",controller:"GameBoardController"}).when("/placeships",{templateUrl:"views/placeships.html",controller:"GameBoardController"}).when("/dropbombs",{templateUrl:"views/dropbombs.html",controller:"GameBoardController"}).otherwise({redirectTo:"/start"})}]),angular.module("bangularApp").controller("GameBoardController",["$scope","$routeParams","$location",function(a,b,c){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.message="this is a test",a.carrier_h_tiles=[],a.carrier_v_tiles=[],a.battleship_h_tiles=[],a.battleship_v_tiles=[],a.sub_h_tiles=[],a.sub_v_tiles=[],a.destroyer_h_tiles=[],a.destroyer_v_tiles=[],a.patrol_h_tiles=[],a.patrol_v_tiles=[],a.shipslots={carrier:5,battleship:4,sub:4,destroyer:3,patrol:2},a.columns=["A","B","C","D","E","F","G","H","I","J"],a.rows=[1,2,3,4,5,6,7,8,9,10],a.placevertical=!0,a.gamegrid=[],a.ships=[],a.activeplayer="P1",a.activeship=!1,a.init=function(){$.each(a.columns,function(b,c){$.each(a.rows,function(b,d){var e=c+","+d,f=!1,g=!1,h=!1,i=!1,j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p=a.rows.indexOf(d),q=a.columns.indexOf(c);6>p&&(f=!0,a.carrier_h_tiles.push(e)),6>q&&(g=!0,a.carrier_v_tiles.push(e)),7>p&&(j=!0);var r={coords:e,carrier_h:f,carrier_v:g,battleship_h:h,battleship_v:i,sub_h:j,sub_v:k,destroyer_h:l,destroyer_v:m,patrol_h:n,patrol_v:o};a.gamegrid.push(r)})})},a.paintboard=function(){$.each(a.gamegrid,function(a,b){1==b.carrier_v&&$('div[coords="'+b.coords+'"]').css("background-color","green")})},a.getshiptiles=function(b){console.log("Num tiles for "+b+": "+a.shipslots[b])},a.startgame=function(){c.url("/placeships")},a.addshiptoboard=function(b,c,d){var e=$('div[coords="'+c+'"]'),f=$(e).offset(),g="ship_"+a.ships.length;$("#"+g).remove();var h="";h=d?"_v":"_h";var i='<div class="shipClickable '+b+h+'" id="'+g+'" />';$(".boardContainer").append(i),$("#"+g).click(function(){alert("test")}),$("#"+g).css("top",Math.floor(f.top)),$("#"+g).css("left",Math.floor(f.left))},a.placenewship=function(b){if("carrier"==b){console.log("placing aircraft carrier");var c=a.getrandomtile(!0);a.addshiptoboard(b,c,a.placevertical)}},a.getrandomtile=function(b,c){var d=[];(b="carrier")&&(d=a.placevertical?a.carrier_v_tiles:a.carrier_h_tiles);var e=d[Math.floor(Math.random()*d.length)];return c?e:e},a.hovertile=function(){},a.exittile=function(){},a.clicktile=function(){},a.unclicktile=function(){},a.toggleshipalignment=function(){$(".btnShipAlign").toggleClass("btn-primary"),a.placevertical=!a.placevertical}}]);